<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <title>BlockTrainer</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css" integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2" crossorigin="anonymous">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ho+j7jyWK8fNQe+A12Hb8AhRq26LrZ/JpcUGGOn+Y7RsweNrtN/tE3MoK7ZeZDyx" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="css/main.css">
  </head>
  <body>
    <nav class="navbar sticky-top navbar-expand-lg navbar-light py-md-4" style="background-color: #a9a9a9;">
      <a class="navbar-brand" href="#">BlockTrainer</a>
      <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse" id="navbarNavAltMarkup">
        <div class="navbar-nav mr-auto">
          <a class="nav-item nav-link active" href="#">Home<span class="sr-only">(current)</span></a>
          <a class="nav-item nav-link mr-auto" href="#about">About Our App</a>
          <a class="nav-item nav-link" href="#upload">Add Your Ride</a>
          <a class="nav-item nav-link" href="#contact">Contact Us</a>
        </div>
      </div>
    </nav>

    <section class="home-section" id="home">
        <div class="container">
            <div class="eth-logo">

            </div>
        </div>
    </section>

    <section class="about-section" id="about">
      <div class="text-container">
        <h1>About Our App</h1>
        <% if (mileage) { %>
        <div id="contractData" data-miles="<%= mileage %>" data-ride="<%= id %>" data-name="<%= name %>"></div>
        <% } %>
        <p>Welcome to Blocktrainer! Think you have what it takes as a cyclist?
          Prove your skills by competing in our competition hosted on the Ethereum blockchain. While the timer is running, you can add your latest ride to the blockchain for $5.
          When the timer runs out, the cyclist with the most miles traveled takes home all the winnings!</p>
      </div>
      <div class="countdown-container">
        <div class="container">
            <div class="card">
                <div class="card-body">
                    <h1>Time Remaining:</h1>
                    <div class="countdown-section">
                        <div id="days" class="value">00</div>
                        <div class="countdown-label">DAYS</div>
                    </div>
                    <div class="countdown-section">
                        <div id="hours" class="value">00</div>
                        <div class="countdown-label">HOURS</div>
                    </div>
                    <div class="countdown-section">
                        <div id="minutes" class="value">00</div>
                        <div class="countdown-label">MINUTES</div>
                    </div>
                    <div class="countdown-section">
                        <div id="seconds" class="value">00</div>
                        <div class="countdown-label">SECONDS</div>
                    </div>
                </div>
            </div>
          </div>
      </div>
    </section>

    <section class="blockchain-section" id="upload">
      <div class="text-container" id="end-block">
        <h1>Add Your Ride To The Blockchain</h1>
        <p id="add-ride-text">For every ride you complete, click the button to the right and have it signed to the blockchain and included in our contest. You will be redirected to Strava to log in and allow our app to see your activites.</p>
        <div class="container" id="winnings">
          <div class="row">
            <div class="col col-lg-8">
              <h1>Winnings Up For Grab:</h1>
            </div>
            <div class="col-md-auto" id="cash-miles">
            </div>
          </div>
        </div>
      </div>
      <div class="text-container">
        <br>
        <div class="container">
          <div class="row justify-content-md-center">
            <a class="btn btn-rounded btn-lg btn-primary" id="add-button" href="https://www.strava.com/oauth/authorize?client_id=57570&response_type=code&redirect_uri=http://127.0.0.1:8002/exchange_token&approval_prompt=force&scope=activity:read" role="button">Add Your Latest Ride To The Blockchain</a>
          </div>
        </div>
        <br>
        <div class="table-responsive">
          <table class="table table-text">
            <thead>
              <tr>
                <th scope="col">Cyclist ID</th>
                <th scope="col">Cyclist Name</th>
                <th scope="col">Miles Cycled</th>
                <th scope="col">Status</th>
              </tr>
            </thead>
            <tbody id="cyclists">
            </tbody>
          </table>
        </div>
      </div>
    </section>

    <section class="contact-section" id="contact">
      <div class="text-container">
        <h1>Contact Us</h1>
        <p>James Fotheringham: fot@pdx.edu
           Alex Rose: alexrose@pdx.edu
        </p>
      </div>
    </section>
    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/web3@latest/dist/web3.min.js"></script>
    <script type="text/javascript" src="scripts/blockchain.js"></script>
  </body>
</html>
